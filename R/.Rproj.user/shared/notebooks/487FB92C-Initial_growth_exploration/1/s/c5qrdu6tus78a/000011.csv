"0","# Check that the levels of the Notes column are the same between datasets"
"0","length(levels(as.factor(growth_agar$Notes))) ==  length(levels(as.factor(growth_liquid$Notes)))                                     # Same number of levels"
"1","[1]"
"1"," TRUE"
"1","
"
"0","sum(levels(as.factor(growth_agar$Notes)) == levels(as.factor(growth_liquid$Notes)))/length(levels(as.factor(growth_agar$Notes)))    # Levels are exactly the same"
"1","[1]"
"1"," 1"
"1","
"
"0","# Check that the notes are exactly the same in the liquid and agar data for every row"
"0","liquid_temp <- growth_liquid %>%"
"0","  mutate(ID = paste(Sys.Name, Std.Name, TS.allele, Lab.ID, sep = ""_"")) %>%"
"0","  filter(Dilution == ""1/10"" & ID != ""___"") %>%"
"0","  select(Sys.Name, Std.Name, TS.allele, Lab.ID, Notes, SB.notes, ID) %>%"
"0","  rename(Notes_liquid = Notes,"
"0","         SB.notes_liquid = SB.notes)"
"0","agar_temp <- growth_agar %>%"
"0","  mutate(ID = paste(Sys.Name, Std.Name, TS.allele, Lab.ID, sep = ""_"")) %>%"
"0","  filter(ID != ""___"") %>%"
"0","  select(Sys.Name, Std.Name, TS.allele, Lab.ID, Notes, SB.notes, ID) %>%"
"0","  rename(Notes_agar = Notes,"
"0","         SB.notes_agar = SB.notes)"
"0","  "
"0","temp <- full_join(liquid_temp, agar_temp, by = c(""ID""))                         # This is where the many-to-many relationship happens"
"2","Aviso: Detected an unexpected many-to-many relationship between `x` and `y`."
"0","sum(temp$Notes_liquid == temp$Notes_agar)"
"1","[1]"
"1"," 1337"
"1","
"
"0","sum(temp$SB.notes_liquid == temp$SB.notes_agar)"
"1","[1]"
"1"," 1341"
"1","
"
"0","## Pretty sure that notes are exactly the same between datasets - there are just some problematic rows because their IDs are repeated within each of the datasets"
"0","count_liquid_ID_reps <- c()"
"0","for (i in 1:nrow(liquid_temp)) {"
"0","  ID_liquid <- liquid_temp$ID[i]"
"0","  count_liquid_ID_reps <- c(count_liquid_ID_reps, sum(agar_temp$ID == ID_liquid))"
"0","}"
"0","problematic_rows_liquid <- liquid_temp[count_liquid_ID_reps != 1,]"
"0",""
"0","count_agar_ID_reps <- c()"
"0","for (i in 1:nrow(agar_temp)) {"
"0","  ID_agar <- agar_temp$ID[i]"
"0","  count_agar_ID_reps <- c(count_agar_ID_reps, sum(liquid_temp$ID == ID_agar))"
"0","}"
"0","problematic_rows_agar <- agar_temp[count_agar_ID_reps != 1,]"
"0",""
"0","## Check that these 2 dataframes are exactly equal to each other"
"0","ncol(problematic_rows_agar)*nrow(problematic_rows_agar) == (ncol(problematic_rows_liquid)*nrow(problematic_rows_liquid))    # Check same dimensions"
"1","[1]"
"1"," TRUE"
"1","
"
"0","sum(problematic_rows_agar == problematic_rows_liquid)/(ncol(problematic_rows_agar)*nrow(problematic_rows_agar))              # Check all position equal"
"1","[1]"
"1"," 1"
"1","
"
"0","## Sumarize all of this in a single dataframe and delete all the other stuff                                                    "
"0","problematic_rows <- problematic_rows_agar"
"0",""
"0",""
"0","# Remove unnecesary variables"
"0","rm(problematic_rows_agar, problematic_rows_liquid, agar_temp, liquid_temp, i, count_agar_ID_reps, count_liquid_ID_reps, ID_agar, ID_liquid, temp)"
